import { useEffect, useState } from 'react';\nimport type { Project, Task } from '../common/types';\n\nfunction App() {\n  const [projects, setProjects] = useState<Project[]>([]);\n  const [activeProjectId, setActiveProjectId] = useState<number | null>(null);\n  const [tasks, setTasks] = useState<Task[]>([]);\n\n  useEffect(() => {\n    window.api.projects.list().then(response => {\n      if (response.ok && response.data) {\n        setProjects(response.data);\n        if (response.data.length > 0) {\n          setActiveProjectId(response.data[0].id);\n        }\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    if (!activeProjectId) {\n      setTasks([]);\n      return;\n    }\n    window.api.tasks.listByProject(activeProjectId).then(response => {\n      if (response.ok && response.data) {\n        setTasks(response.data);\n      }\n    });\n  }, [activeProjectId]);\n\n  return (\n    <div style={{ padding: '1.5rem' }}>\n      <header style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        <h1>LifeOS Kanban (Project-Based)</h1>\n        <select value={activeProjectId ?? ''} onChange={event => setActiveProjectId(Number(event.target.value))}>\n          <option value=" disabled>Choose project</option>\n          {projects.map(project => (\n            <option key={project.id} value={project.id}>{project.name}</option>\n          ))}\n        </select>\n      </header>\n      <main style={{ marginTop: '1.5rem', display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '1rem' }}>\n        {['To-Do', 'In Progress', 'Completed'].map(status => (\n          <section key={status} style={{ background: 'rgba(255,255,255,0.1)', borderRadius: '12px', padding: '1rem', minHeight: '300px' }}>\n            <h2>{status}</h2>\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem', marginTop: '1rem' }}>\n              {tasks.filter(task => task.status === status).map(task => (\n                <article key={task.id} style={{ background: 'rgba(0,0,0,0.3)', padding: '0.75rem 1rem', borderRadius: '10px' }}>\n                  <strong>{task.title}</strong>\n                  {task.description ? (\n                    <p style={{ marginTop: '0.5rem', opacity: 0.8 }}>{task.description}</p>\n                  ) : null}\n                </article>\n              ))}\n            </div>\n          </section>\n        ))}\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n
